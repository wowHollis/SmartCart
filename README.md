# Smart Cart

This project is for study Arduino code can control sensors and motors. This can be a good usecase of Pixy camera module recognizing object and following feature, and also detect obstacle by sonar sensor, DC motor driver as well.


## Motivation

We had a deep discussion about what is good mock-up sample using visual recognition and following feature, and it get through the Smart Cart. Smart Cart is a moving robot can follow a registered object with avoiding obstacles, it can be used for shopping cart, traveler's suitcase and moving backpack.


## Installation

All is running on Arduino Uno, but needs Pixy, sonar sensor and DC motor & driver.

This project use SimplerTimer Library for Arduion, so you should follow the installation instruction below.

1. Copy SimpleTimer folder in lib into your Arduino/libraries folder.
2. Launch or restart the Arduino IDE to let it detect the new library.


## Techical Principal

Smart Cart controlled its speed and direction by vectors. The vectors generated by Pixy camera module, sonar/ IR sensor and RC transmitter(debug purpose).

Pixy camera detect the distance of the registered object from the center position, left or right. It can be y-axis vector. Pixy also compare the size of the object from the registered size. If the size is bigger then original, this means the object is closer, otherwise if smaller then the object is far from the original position. This is x-axis vector. So, x-axis vector reflect speed value of the Smart Cart, y-axis vector means directioin. We use unit vector which has the range -1.0 ~ 1.0, to be easily scaled to desired value.

Sensor generate another vector to avoid obstacle. If a sensor detect obstacle, generate a vector with x, y-axis aim to the opposite direction of the sensor. The dot-matrix value will be distance obstacle of the sensor.

Smart Cart calculate the final vector to decide speed and direction with a formula which composite each vectors get from Pixy camera, sensor or RC transmitter(for debug purpose). In every loop, Smart Cart add each vectors with certain scaled value.

Finally, the final vector used for each motor speed value. For this, we need to scale the final vector to Left/right motor speed and direction. Motor direction has Forward/Backward, speed has a range 0~255, however we need to set a threshold of minimum speed because motor can not turn the shaft with too much low speed.  


## Contributors

* Program Management - Yeo, HwanJae
* Project Management - Jeon, Woong
* Software Engineer - Kim, HanSeong, Kim, Hollis
* Electronic Engineer - Choi, Young Han, Kim, Jungin
* Mechanical Engineer - Lee, Jaebong

## License

This project is licensed under the MIT License - see the [LICENSE.md](LICENSE.md) file for details
